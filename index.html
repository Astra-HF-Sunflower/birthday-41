<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>属于孙钰的成人礼！ —— your 皇甫</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- ==================== 登录门 ==================== -->
    <div id="login-gate">
        <!-- 开机动画 -->
        <div id="boot-screen">
            <div class="windows-logo"></div>
            <p>正在进入我们的庄园...</p>
            <div class="spinner"></div>
        </div>

        <!-- 用户选择 -->
        <div id="user-selection-screen" class="hidden">
            <div class="user-card" onclick="selectUser('sunflower')">
                <img src="images/sunflower-avatar.png" alt="小向日葵喵(管理员)">
                <h2>向日葵</h2>
            </div>
            <div class="user-card" onclick="selectUser('corn')">
                <img src="images/corn-avatar.png" alt="松仁玉米">
                <h2>松仁玉米</h2>
            </div>
        </div>

        <!-- 密码输入 -->
        <div id="password-screen" class="hidden">
            <img id="password-avatar" src="">
            <h2 id="password-username"></h2>
            <div class="password-input-wrapper">
                <input type="password" id="login-password" placeholder="输入密码" autocomplete="off">
                <button onclick="enterOS()">➔</button>
            </div>
            <p id="login-error"></p>
            <a class="back-link" onclick="backToUserSelection()">← 返回用户选择</a>
        </div>
    </div>

    <!-- ==================== 我们的专属 OS ==================== -->
    <main id="desktop" class="hidden">

        <!-- 桌面图标 -->
        <div class="desktop-icons">
            <div class="icon" ondblclick="openWindow('gallery')">
                <img src="images/icon-gallery.png" alt="回忆画廊">
                <span>回忆画廊.exe</span>
            </div>
            <div class="icon" ondblclick="openWindow('manor')">
                <img src="images/icon-manor.png" alt="我们的庄园">
                <span>我们的庄园.exe</span>
                <div class="icon" onclick="alert('🚧 施工中...\n这里计划做一个消消乐小游戏，敬请期待！')">
    <img src="images/icon-candy.png" alt="消消乐">
    <span>消消乐.exe</span>
</div>
            
        </div>

        <!-- 所有窗口的容器 -->
        <div id="window-container">
            <!-- 回忆画廊 窗口 -->
            <div id="gallery-window" class="window hidden">
                <div class="title-bar">
                    <div class="title-bar-text">🖼️ 回忆画廊</div>
                    <div class="title-bar-controls">
                        <button aria-label="Minimize" onclick="minimizeWindow('gallery')">—</button>
                        <button aria-label="Maximize" onclick="maximizeWindow('gallery')">□</button>
                        <button aria-label="Close" onclick="closeWindow('gallery')">✕</button>
                    </div>
                </div>
                <div class="window-body">
                    <!-- 用 iframe 嵌入回忆画廊 -->
                    <iframe src="gallery.html" frameborder="0"></iframe>
                </div>
            </div>

            <!-- 我们的庄园 窗口（游戏） -->
            <div id="manor-window" class="window hidden">
                <div class="title-bar">
                    <div class="title-bar-text">🏡 我们的庄园</div>
                    <div class="title-bar-controls">
                        <button aria-label="Minimize" onclick="minimizeWindow('manor')">—</button>
                        <button aria-label="Maximize" onclick="maximizeWindow('manor')">□</button>
                        <button aria-label="Close" onclick="closeWindow('manor')">✕</button>
                    </div>
                </div>
                <div class="window-body">
                    <!-- 这里嵌入你现在的 game.html -->
                    <iframe src="game.html" frameborder="0"></iframe>
                </div>
            </div>
        </div>

        <!-- 任务栏 -->
        <div class="taskbar">
            <button id="start-button">
                <img src="images/windows-icon.png" alt="Start">
                <span>开始</span>
            </button>
            <div id="taskbar-apps"></div>
        </div>

        <!-- 开始菜单 -->
        <div id="start-menu" class="hidden">
            <ul>
                <li onclick="logOut()">
                    <img src="images/icon-logout.png" alt="注销">
                    <span>注销</span>
                </li>
            </ul>
        </div>
    </main>

     <!-- ==================== 管理员后台 (Developer Hub) ==================== -->
    <div id="admin-panel" class="hidden">
        <div class="admin-header">
            <h1>&gt;&gt; ADMINISTRATOR_HUB</h1>
            <p>// Welcome, Developer "Sunflower". System Ready.</p>
        </div>
        
        <!-- 区域1：源代码档案 (展示你的努力) -->
        <div class="admin-section">
            <h3 class="section-title">🛠️ 源代码档案 (Source Code)</h3>
            <div class="code-modal-content">
                <div class="code-column">
                    <h4>HTML: 骨骼</h4>
                    <div class="code-image-wrapper">
                        <img src="images/code_html.png" alt="HTML Code" onclick="openImageViewer(this.src)">
                    </div>
                </div>
                <div class="code-column">
                    <h4>CSS: 皮肤</h4>
                    <div class="code-image-wrapper">
                        <img src="images/code_css.png" alt="CSS Code" onclick="openImageViewer(this.src)">
                    </div>
                </div>
                <div class="code-column">
                    <h4>JS: 灵魂</h4>
                    <div class="code-image-wrapper">
                        <img src="images/code_js.png" alt="JavaScript Code" onclick="openImageViewer(this.src)">
                    </div>
                </div>
            </div>
        </div>

        <!-- 区域2：核心机密 (制作人员名单) -->
        <div class="admin-section" style="margin-top: 30px; text-align: center;">
            <h3 class="section-title">❤️ 核心数据 (The Heart)</h3>
            
            <!-- 这是一个巨大的、发光的按钮 -->
            <div class="credits-launcher" onclick="window.location.href='credits.html'">
                <div class="launcher-icon">🎬</div>
                <div class="launcher-text">
                    <h2>播放制作人员名单</h2>
                    <p>View Staff Roll & Credits</p>
                </div>
                <div class="launcher-arrow">➔</div>
            </div>
        </div>

        <!-- 底部返回按钮 -->
        <button class="proceed-btn" onclick="proceedToHub()" style="margin-top: 40px;">➔ 返回 OS 桌面</button>
    </div>
    <!-- ==================== 图片查看器（放大代码截图） ==================== -->
    <div id="imageViewerModal" class="hidden">
        <div class="image-viewer-overlay" onclick="closeImageViewer()"></div>
        <div class="image-viewer-content">
            <img id="viewerImage" src="" alt="放大图片">
            <button class="close-viewer" onclick="closeImageViewer()">✕</button>
        </div>
    </div>

    <!-- ==================== 脚本 ==================== -->
    <script src="script.js"></script>
</body>
</html>