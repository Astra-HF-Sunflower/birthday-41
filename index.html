<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>属于孙钰的成人礼！ ——your 皇甫</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- ==================== 登录门 ==================== -->
    <div id="login-gate">
        <!-- 开机动画 -->
        <div id="boot-screen">
            <div class="windows-logo"></div>
            <p>正在进入我们的庄园...</p>
            <div class="spinner"></div>
        </div>
        <!-- 用户选择 -->
        <div id="user-selection-screen" class="hidden">
            <div class="user-card" onclick="selectUser('sunflower')">
                <img src="images/sunflower-avatar.png" alt="小向日葵喵(管理员)">
                <h2>向日葵</h2>
            </div>
            <div class="user-card" onclick="selectUser('corn')">
                <img src="images/corn-avatar.png" alt="松仁玉米">
                <h2>松仁玉米</h2>
            </div>
        </div>
        <!-- 密码输入 -->
        <div id="password-screen" class="hidden">
            <img id="password-avatar" src="">
            <h2 id="password-username"></h2>
            <div class="password-input-wrapper">
                <input type="password" id="login-password" placeholder="输入密码" autocomplete="off">
                <button onclick="enterOS()">➔</button>
            </div>
            <p id="login-error"></p>
            <a class="back-link" onclick="backToUserSelection()">← 返回用户选择</a>
        </div>
    </div>

    <!-- ==================== 我们的专属 OS ==================== -->
    <main id="desktop" class="hidden">

        <!-- 桌面图标 -->
        <div class="desktop-icons">
            <div class="icon" ondblclick="openWindow('gallery')">
                <img src="images/icon-gallery.png" alt="回忆画廊">
                <span>回忆画廊.exe</span>
            </div>
            <div class="icon" ondblclick="openWindow('manor')">
                <img src="images/icon-manor.png" alt="我们的庄园">
                <span>我们的庄园.exe</span>
            </div>
        </div>

        <!-- 所有窗口的容器 -->
        <div id="window-container">
            <!-- 回忆画廊 窗口 -->
            <div id="gallery-window" class="window hidden">
                <div class="title-bar">
                    <div class="title-bar-text">🖼️ 回忆画廊</div>
                    <div class="title-bar-controls">
                        <button aria-label="Minimize"></button>
                        <button aria-label="Maximize"></button>
                        <button aria-label="Close" onclick="closeWindow('gallery')"></button>
                    </div>
                </div>
                <div class="window-body">
                    <!-- 【关键！】用 iframe 嵌入我们的回忆画廊！ -->
                    <iframe src="gallery.html" frameborder="0"></iframe>
                </div>
            </div>

          <!-- 我们的庄园 窗口 -->
<div id="manor-window" class="window hidden">
    <div class="title-bar">
        <div class="title-bar-text">🏡 我们的庄园</div>
        <div class="title-bar-controls">
            <button aria-label="Minimize"></button>
            <button aria-label="Maximize"></button>
            <button aria-label="Close" onclick="closeWindow('manor')"></button>
        </div>
    </div>
    <div class="window-body">
        <!-- ✅ 改成这个！ -->
        <iframe src="game.html" frameborder="0"></iframe>
    </div>
</div>

        <!-- 任务栏 -->
        <div class="taskbar">
            <button id="start-button">
                <img src="images/windows-icon.png" alt="Start">
                <span>开始</span>
            </button>
            <div id="taskbar-apps"></div>
        </div>

        <!-- 开始菜单 -->
        <div id="start-menu" class="hidden">
            <ul>
                <li onclick="logOut()">
                    <img src="images/icon-logout.png" alt="注销">
                    <span>注销</span>
                </li>
            </ul>
        </div>
    </main>
    <!-- ==================== 管理员后台 (彩蛋) ==================== -->
    <div id="admin-panel" class="hidden">
        <div class="admin-header">
            <h1>&gt;&gt; Administrator Access Granted_</h1>
            <p>// Welcome, Developer "Sunflower"</p>
        </div>
        
        <div class="code-modal-content">
            <div class="code-column">
                <h4>HTML: 骨骼 🦴</h4>
                <div class="code-image-wrapper">
                    <img src="images/code_html.png" alt="HTML Code"onclick="openImageViewer(this.src)>
                </div>
            </div>
            <div class="code-column">
                <h4>CSS: 衣服 🎨</h4>
                <div class="code-image-wrapper">
                    <img src="images/code_css.png" alt="CSS Code"onclick="openImageViewer(this.src)>
                </div>
            </div>
            <div class="code-column">
                <h4>JS: 灵魂 🧠</h4>
                <div class="code-image-wrapper">
                    <img src="images/code_js.png" alt="JavaScript Code"onclick="openImageViewer(this.src)>
                </div>
            </div>
        </div>

        <button class="proceed-btn" onclick="proceedToHub()">Proceed to Main Hub_</button>
    </div>
    <!-- ========================================================== -->

    <script src="script.js"></script>
    
</body>
</html>